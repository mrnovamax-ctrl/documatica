{# –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –±–ª–æ–∫–∞ - Terminal v12.0 #}
<div id="addBlockModal" class="block-modal-overlay" style="display: none;">
  <div class="block-modal block-modal--sm">
    <div class="block-modal__header">
      <div class="block-modal__title-wrapper">
        <div class="block-modal__icon" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
          <iconify-icon icon="ri:add-circle-line" width="24"></iconify-icon>
        </div>
        <h3 class="block-modal__title">Add Block</h3>
      </div>
      <button class="block-modal__close" onclick="closeAddBlockModal()">
        <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>
    </div>
    
    <div class="block-modal__body">
      <input type="hidden" id="addBlockSectionId">
      
      <div class="editor-field">
        <label class="editor-label">Block Type</label>
        <select id="addBlockType" class="editor-select editor-select-large">
          <optgroup label="Text Content">
            <option value="heading">üìù Heading - –ó–∞–≥–æ–ª–æ–≤–æ–∫</option>
            <option value="paragraph" selected>üìÑ Paragraph - –¢–µ–∫—Å—Ç</option>
            <option value="label">üè∑Ô∏è Label - –ú–µ—Ç–∫–∞</option>
            <option value="note">üí° Note - –ó–∞–º–µ—Ç–∫–∞</option>
          </optgroup>
          <optgroup label="Interactive">
            <option value="button">üîò Button - –ö–Ω–æ–ø–∫–∞</option>
            <option value="link_group">üîó Link Group - –ì—Ä—É–ø–ø–∞ –±—ã—Å—Ç—Ä—ã—Ö —Å—Å—ã–ª–æ–∫</option>
          </optgroup>
          <optgroup label="Cards">
            <option value="feature_card">‚≠ê Feature Card - –ö–∞—Ä—Ç–æ—á–∫–∞ —Ñ–∏—á–∏</option>
            <option value="stat_card">üìä Stat Card - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</option>
            <option value="document_type_card">üÉè Document Type Card - –ö–∞—Ä—Ç–æ—á–∫–∞</option>
          </optgroup>
          <optgroup label="FAQ">
            <option value="faq_item">‚ùì FAQ Item - –í–æ–ø—Ä–æ—Å –∏ –æ—Ç–≤–µ—Ç (—Å –∫–Ω–æ–ø–∫–æ–π)</option>
          </optgroup>
          <optgroup label="Forms">
            <option value="contact_form">‚úâÔ∏è Contact Form - –§–æ—Ä–º–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏</option>
          </optgroup>
          <optgroup label="CTA (—Å–µ–∫—Ü–∏—è CTA)">
            <option value="countdown">‚è±Ô∏è Countdown - –¢–∞–π–º–µ—Ä (–¥–Ω–∏, —á–∞—Å—ã, –º–∏–Ω—É—Ç—ã, —Å–µ–∫—É–Ω–¥—ã)</option>
            <option value="newsletter">üìß Newsletter - –ü–æ–¥–ø–∏—Å–∫–∞ (placeholder, –∫–Ω–æ–ø–∫–∞)</option>
            <option value="cta_card">üÉè CTA Card - –ö–∞—Ä—Ç–æ—á–∫–∞ —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º, —Ç–µ–∫—Å—Ç–æ–º, —Å—Å—ã–ª–∫–æ–π, –∏–∫–æ–Ω–∫–æ–π</option>
          </optgroup>
          <optgroup label="Pricing (—Å–µ–∫—Ü–∏—è –¢–∞—Ä–∏—Ñ—ã)">
            <option value="pricing_card">üí∞ Pricing Card - –ö–∞—Ä—Ç–æ—á–∫–∞ —Ç–∞—Ä–∏—Ñ–∞ (—Ç–µ–≥, —Ü–µ–Ω–∞ –º–µ—Å—è—Ü/–≥–æ–¥/—à—Ç, —Ñ–æ–Ω, —Ñ–∏—á–∏, –∫–Ω–æ–ø–∫–∞)</option>
          </optgroup>
        </select>
        <div class="editor-hint">Choose the type of content block you want to add</div>
      </div>
      
      <div class="block-type-preview" id="blockTypePreview">
        <div class="preview-card">
          <div class="preview-icon">üìÑ</div>
          <div class="preview-title">Paragraph</div>
          <div class="preview-desc">Simple text content block</div>
        </div>
      </div>
    </div>
    
    <div class="block-modal__footer">
      <button class="btn btn--ghost btn--md" onclick="closeAddBlockModal()">
        Cancel
      </button>
      <button class="btn btn--primary btn--md" onclick="confirmAddBlock()">
        <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" style="width: 18px; height: 18px;">
          <path d="M12 4v16m8-8H4"></path>
        </svg>
        Add Block
      </button>
    </div>
  </div>
</div>

<style>
.block-modal--sm {
  max-width: 500px;
}

.editor-select-large {
  font-size: 1rem;
  padding: 1rem 1.25rem;
}

.block-type-preview {
  margin-top: 1.5rem;
  padding: 1.5rem;
  background: #f8fafc;
  border: 1px solid #e2e8f0;
  border-radius: 1rem;
}

.preview-card {
  text-align: center;
}

.preview-icon {
  font-size: 3rem;
  margin-bottom: 0.75rem;
}

.preview-title {
  font-size: 1rem;
  font-weight: 700;
  color: #1e293b;
  margin-bottom: 0.5rem;
}

.preview-desc {
  font-size: 0.875rem;
  color: #64748b;
}
</style>

<script>
// –ü—Ä–µ–≤—å—é —Ç–∏–ø–æ–≤ –±–ª–æ–∫–æ–≤
const blockTypePreviews = {
  heading: {icon: 'üìù', title: 'Heading', desc: 'H1-H6 heading with optional accent word'},
  paragraph: {icon: 'üìÑ', title: 'Paragraph', desc: 'Simple text content block'},
  button: {icon: 'üîò', title: 'Button', desc: 'CTA button with link (Primary/Gold/Outline/Ghost)'},
  feature_card: {icon: '‚≠ê', title: 'Feature Card', desc: 'Card with icon, title and description'},
  stat_card: {icon: 'üìä', title: 'Stat Card', desc: 'Number statistic with label'},
  document_type_card: {icon: 'üìÑ', title: 'Document Type Card', desc: 'Card: title, text, link + 7 card styles (Feature, Stat, Promo, Article, Info, CTA)'},
  label: {icon: 'üè∑Ô∏è', title: 'Label', desc: 'Small uppercase label with AI node'},
  note: {icon: 'üí°', title: 'Note', desc: 'Small note with optional accent text'},
  faq_item: {icon: '‚ùì', title: 'FAQ Item', desc: 'Question + answer (HTML) + optional button (buttons.html v12)'},
  contact_form: {icon: '‚úâÔ∏è', title: 'Contact Form', desc: 'Form: name, email, phone, subject, message (fixed block)'},
  upd_types_grid: {icon: 'üìã', title: 'UPD Types Grid', desc: '–°–µ—Ç–∫–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ —Ç–∏–ø–æ–≤ –£–ü–î (label, title, cards —Å tag, title, description, url, icon)'},
  useful_materials: {icon: 'üîó', title: 'Useful Materials', desc: '–ë–ª–æ–∫ ¬´–ü–æ–ª–µ–∑–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã¬ª: title + —Å–ø–∏—Å–æ–∫ —Å—Å—ã–ª–æ–∫ (title, url)'},
  link_group: {icon: 'üîó', title: 'Link Group', desc: '–ì—Ä—É–ø–ø–∞ –±—ã—Å—Ç—Ä—ã—Ö —Å—Å—ã–ª–æ–∫ (hero, CTA, –ª—é–±–æ–π —Å–µ–∫—Ü–∏–∏): –¥–æ–±–∞–≤–ª—è–π—Ç–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Å—Å—ã–ª–∫–∏'},
  countdown: {icon: '‚è±Ô∏è', title: 'Countdown', desc: '–¢–∞–π–º–µ—Ä (–¥–Ω–∏, —á–∞—Å—ã, –º–∏–Ω—É—Ç—ã, —Å–µ–∫—É–Ω–¥—ã) –¥–ª—è CTA –≤–∞—Ä–∏–∞–Ω—Ç 08'},
  newsletter: {icon: 'üìß', title: 'Newsletter', desc: '–ü–æ–¥–ø–∏—Å–∫–∞: placeholder –ø–æ–ª—è email –∏ —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏ (CTA –≤–∞—Ä–∏–∞–Ω—Ç 07)'},
  cta_card: {icon: 'üÉè', title: 'CTA Card', desc: '–ö–∞—Ä—Ç–æ—á–∫–∞ —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º, —Ç–µ–∫—Å—Ç–æ–º, —Å—Å—ã–ª–∫–æ–π –∏ –∏–∫–æ–Ω–∫–æ–π (CTA –≤–∞—Ä–∏–∞–Ω—Ç 06)'},
  pricing_card: {icon: 'üí∞', title: 'Pricing Card', desc: '–ö–∞—Ä—Ç–æ—á–∫–∞ —Ç–∞—Ä–∏—Ñ–∞: —Ç–µ–≥, –Ω–∞–∑–≤–∞–Ω–∏–µ, —Ü–µ–Ω–∞ (–º–µ—Å—è—Ü/–≥–æ–¥/—à—Ç), —Ñ–æ–Ω, —Ñ–∏—á–∏, –∫–Ω–æ–ø–∫–∞ (2‚Äì3 –∫–∞—Ä—Ç–æ—á–∫–∏ –≤ —Å–µ–∫—Ü–∏–∏ Pricing)'}
};

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–≤—å—é –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —Ç–∏–ø–∞
document.getElementById('addBlockType')?.addEventListener('change', function() {
  const type = this.value;
  const preview = blockTypePreviews[type];
  if (preview) {
    document.getElementById('blockTypePreview').innerHTML = `
      <div class="preview-card">
        <div class="preview-icon">${preview.icon}</div>
        <div class="preview-title">${preview.title}</div>
        <div class="preview-desc">${preview.desc}</div>
      </div>
    `;
  }
});
</script>
