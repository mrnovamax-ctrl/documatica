# –û—Ç—á—ë—Ç –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ —Å SQLite –Ω–∞ PostgreSQL

**–î–∞—Ç–∞:** 2026-02-04  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ë–ï–ó–û–ü–ê–°–ù–û - –î–∞–Ω–Ω—ã–µ –∑–∞—â–∏—â–µ–Ω—ã

---

## –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
- **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:** PostgreSQL (`postgresql://postgres@localhost:5432/documatica`)
- **–°—Ç–∞—Ç—É—Å:** –ê–∫—Ç–∏–≤–Ω–∞—è, —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### SQLite —Ñ–∞–π–ª
- **–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `backend/data/documatica.db`
- **–†–∞–∑–º–µ—Ä:** 96 KB
- **–ü–æ—Å–ª–µ–¥–Ω–µ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ:** 29 —è–Ω–≤–∞—Ä—è 2026
- **–°—Ç–∞—Ç—É—Å:** –£—Å—Ç–∞—Ä–µ–≤—à–∏–π, –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

---

## –î–∞–Ω–Ω—ã–µ –≤ PostgreSQL (–∞–∫—Ç—É–∞–ª—å–Ω—ã–µ)

| –¢–∞–±–ª–∏—Ü–∞ | –ó–∞–ø–∏—Å–µ–π | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å |
|---------|---------|-------------|
| **users** | 129 | üî¥ –ö–†–ò–¢–ò–ß–ù–û |
| **payments** | 31 | üî¥ –ö–†–ò–¢–ò–ß–ù–û |
| **inn_usage** | 36 | üü° –í–ê–ñ–ù–û |
| **global_inn_limits** | 36 | üü° –í–ê–ñ–ù–û |
| **guest_drafts** | 85 | üü° –í–ê–ñ–ù–û |
| **promocodes** | 2 | üü¢ –û–ë–´–ß–ù–û |
| **promocode_usages** | 4 | üü¢ –û–ë–´–ß–ù–û |
| **pages** | 1 | üü¢ –ù–û–í–û–ï (CMS) |
| **page_sections** | 7 | üü¢ –ù–û–í–û–ï (CMS) |
| **content_blocks** | 27 | üü¢ –ù–û–í–û–ï (CMS) |

**–í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π:** 358

---

## –°–æ–∑–¥–∞–Ω–Ω—ã–µ –±—ç–∫–∞–ø—ã

### 1. PostgreSQL (JSON –±—ç–∫–∞–ø)
- **–§–∞–π–ª:** `backups/documatica_full_backup_20260204_125803.json`
- **–†–∞–∑–º–µ—Ä:** 0.38 MB
- **–°–æ–¥–µ—Ä–∂–∏—Ç:** –í—Å–µ 13 —Ç–∞–±–ª–∏—Ü, 358 –∑–∞–ø–∏—Å–µ–π
- **–§–æ—Ä–º–∞—Ç:** JSON (–ª–µ–≥–∫–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å)

### 2. SQLite (–∫–æ–ø–∏—è —Ñ–∞–π–ª–∞)
- **–§–∞–π–ª:** `backups/documatica_sqlite_backup_20260204_*.db`
- **–†–∞–∑–º–µ—Ä:** 96 KB
- **–°—Ç–∞—Ç—É—Å:** –ê—Ä—Ö–∏–≤–Ω–∞—è –∫–æ–ø–∏—è (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### ‚úÖ –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏: 129
‚îú‚îÄ –í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ: –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ
‚îú‚îÄ OAuth (–Ø–Ω–¥–µ–∫—Å): –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ
‚îú‚îÄ –ü–æ–¥–ø–∏—Å–∫–∏: –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ
‚îî‚îÄ –õ–∏–º–∏—Ç—ã: –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ
```

### ‚úÖ –ü–ª–∞—Ç–µ–∂–∏
```
–ü–ª–∞—Ç–µ–∂–∏: 31
‚îú‚îÄ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–µ: –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ
‚îú‚îÄ T-Bank –¥–∞–Ω–Ω—ã–µ: –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ
‚îî‚îÄ –°—É–º–º—ã: –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ
```

### ‚úÖ –ü—Ä–æ–º–æ–∫–æ–¥—ã
```
–ü—Ä–æ–º–æ–∫–æ–¥—ã: 2
‚îú‚îÄ –ê–∫—Ç–∏–≤–Ω—ã–µ: –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ
‚îî‚îÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è: 4
```

### ‚úÖ –ì–æ—Å—Ç–µ–≤—ã–µ —á–µ—Ä–Ω–æ–≤–∏–∫–∏
```
–ß–µ—Ä–Ω–æ–≤–∏–∫–∏: 85
‚îú‚îÄ –¢–æ–∫–µ–Ω—ã: –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ
‚îî‚îÄ –î–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤: –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ
```

---

## –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

### –û–±–Ω–æ–≤–ª—ë–Ω —Ñ–∞–π–ª: `backend/app/database.py`

**–ë—ã–ª–æ:**
```python
DATABASE_URL = os.getenv("DATABASE_URL", "sqlite:///./data/documatica.db")

if DATABASE_URL.startswith("sqlite"):
    engine = create_engine(DATABASE_URL, connect_args={"check_same_thread": False})
else:
    sync_url = DATABASE_URL.replace("+asyncpg", "")
    engine = create_engine(sync_url)
```

**–°—Ç–∞–ª–æ:**
```python
from app.core.config import Settings
settings = Settings()
DATABASE_URL = settings.DATABASE_URL

# –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ PostgreSQL
sync_url = DATABASE_URL.replace("+asyncpg", "")
engine = create_engine(sync_url)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å —è–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ PostgreSQL

---

## –ù–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã CMS

### –°–æ–∑–¥–∞–Ω—ã —á–µ—Ä–µ–∑ Alembic –º–∏–≥—Ä–∞—Ü–∏—é:
1. **pages** - —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–∞–π—Ç–∞ (1 –∑–∞–ø–∏—Å—å - –≥–ª–∞–≤–Ω–∞—è)
2. **page_sections** - —Å–µ–∫—Ü–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü (7 —Å–µ–∫—Ü–∏–π)
3. **content_blocks** - –±–ª–æ–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (27 –±–ª–æ–∫–æ–≤)
4. **analytics_events** - —Å–æ–±—ã—Ç–∏—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ (–ø—É—Å—Ç–æ)
5. **documents** - –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–ø—É—Å—Ç–æ)
6. **redirects** - 301 —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã (–ø—É—Å—Ç–æ)

**–°—Ç–∞—Ç—É—Å:** –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã, —Ç–µ—Å—Ç–æ–≤–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ

---

## –ì–∞—Ä–∞–Ω—Ç–∏–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### ‚úÖ –ù–µ—Ç –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö
- –í—Å–µ 129 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
- –í—Å–µ 31 –ø–ª–∞—Ç–µ–∂ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
- –í—Å–µ –ø—Ä–æ–º–æ–∫–æ–¥—ã –∏ –ª–∏–º–∏—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
- –ì–æ—Å—Ç–µ–≤—ã–µ —á–µ—Ä–Ω–æ–≤–∏–∫–∏ (85 —à—Ç.) —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã

### ‚úÖ –ë—ç–∫–∞–ø—ã —Å–æ–∑–¥–∞–Ω—ã
- JSON –±—ç–∫–∞–ø PostgreSQL (0.38 MB)
- –ö–æ–ø–∏—è SQLite —Ñ–∞–π–ª–∞ (96 KB)
- –ú–æ–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞ 1 –º–∏–Ω—É—Ç—É

### ‚úÖ –û—Ç–∫–∞—Ç –≤–æ–∑–º–æ–∂–µ–Ω
- –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–π–¥—ë—Ç –Ω–µ —Ç–∞–∫, –º–æ–∂–Ω–æ –æ—Ç–∫–∞—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
- –ë—ç–∫–∞–ø—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `backups/`
- –°—Ç–∞—Ä—ã–π SQLite —Ñ–∞–π–ª –Ω–µ —É–¥–∞–ª—ë–Ω (–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π)

### ‚úÖ URL –Ω–µ –º–µ–Ω—è—é—Ç—Å—è
- –¢–µ—Å—Ç–æ–≤–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã: slug="" ‚Üí URL "/" ‚úì
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ URL –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞
- SEO –ø–æ–∑–∏—Ü–∏–∏ –Ω–µ –ø–æ—Å—Ç—Ä–∞–¥–∞—é—Ç

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ú–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ —É–¥–∞–ª–∏—Ç—å SQLite:
1. ‚úÖ PostgreSQL —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
2. ‚úÖ –í—Å–µ –¥–∞–Ω–Ω—ã–µ –≤ PostgreSQL –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ
3. ‚úÖ SQLite —Ñ–∞–π–ª —É—Å—Ç–∞—Ä–µ–≤—à–∏–π (29 —è–Ω–≤–∞—Ä—è)
4. ‚úÖ –ë—ç–∫–∞–ø—ã —Å–æ–∑–¥–∞–Ω—ã

### –î–µ–π—Å—Ç–≤–∏—è:
1. –û—Å—Ç–∞–≤–∏—Ç—å SQLite —Ñ–∞–π–ª –≤ `backend/data/` –µ—â—ë –Ω–∞ 2 –Ω–µ–¥–µ–ª–∏ (–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π)
2. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Ä–∞–±–æ—Ç—ã CMS —É–¥–∞–ª–∏—Ç—å `backend/data/documatica.db`
3. –û–±–Ω–æ–≤–∏—Ç—å `.gitignore` —á—Ç–æ–±—ã –∏—Å–∫–ª—é—á–∏—Ç—å `*.db` —Ñ–∞–π–ª—ã

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–ú–ò–ì–†–ê–¶–ò–Ø –ë–ï–ó–û–ü–ê–°–ù–ê**

- ‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –ø–ª–∞—Ç–µ–∂–∏) –≤ PostgreSQL
- ‚úÖ –ë—ç–∫–∞–ø—ã —Å–æ–∑–¥–∞–Ω—ã (JSON + SQLite –∫–æ–ø–∏—è)
- ‚úÖ –û—Ç–∫–∞—Ç –≤–æ–∑–º–æ–∂–µ–Ω –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç
- ‚úÖ URL –Ω–µ –º–µ–Ω—è—é—Ç—Å—è
- ‚úÖ –¢–µ—Å—Ç–æ–≤–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ

**–ú–æ–∂–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–±–æ—Ç—É!**
